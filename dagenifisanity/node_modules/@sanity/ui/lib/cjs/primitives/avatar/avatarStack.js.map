{
  "version": 3,
  "sources": ["../../../../src/primitives/avatar/avatarStack.tsx"],
  "sourcesContent": ["import React, {cloneElement, forwardRef} from 'react'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {getResponsiveProp, rem, responsive, ThemeProps} from '../../styles'\nimport {childrenToElementArray} from '../helpers'\nimport {AvatarCounter} from './avatarCounter'\nimport {AvatarSize} from './types'\n\nconst BASE_STYLES = css`\n  white-space: nowrap;\n\n  & > div {\n    vertical-align: top;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  }\n`\n\nfunction avatarStackStyle() {\n  return BASE_STYLES\n}\n\nfunction responsiveAvatarStackSizeStyle(props: {size: AvatarSize | AvatarSize[]} & ThemeProps) {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.size), (size) => {\n    const avatarSize = avatar.sizes[size]\n\n    if (!avatarSize) return EMPTY_RECORD\n\n    return {\n      '& > div + div': {\n        marginLeft: rem(avatarSize.distance),\n      },\n    }\n  })\n}\n\nconst Root = styled.div<{size: AvatarSize | AvatarSize[]}>(\n  responsiveAvatarStackSizeStyle,\n  avatarStackStyle\n)\n\ninterface AvatarStackProps {\n  children: React.ReactNode\n  maxLength?: number\n  size?: AvatarSize | AvatarSize[]\n  tone?: 'navbar'\n}\n\nexport const AvatarStack = forwardRef(\n  (\n    props: AvatarStackProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const {\n      children: childrenProp,\n      maxLength: maxLengthProp = 4,\n      size = 0,\n      tone,\n      ...restProps\n    } = props\n    const maxLength = Math.max(maxLengthProp, 0)\n    const children = childrenToElementArray(childrenProp).filter(\n      (child) => typeof child !== 'string'\n    ) as React.ReactElement[]\n    const len = children.length\n    const visibleCount = maxLength - 1\n    const extraCount = len - visibleCount\n    const visibleChildren = extraCount > 1 ? children.slice(extraCount, len) : children\n\n    return (\n      <Root data-ui=\"AvatarStack\" {...restProps} ref={ref} size={size}>\n        {len === 0 && (\n          <div>\n            <AvatarCounter count={len} tone={tone} />\n          </div>\n        )}\n\n        {len !== 0 && extraCount > 1 && (\n          <div>\n            <AvatarCounter count={extraCount} size={size} tone={tone} />\n          </div>\n        )}\n\n        {visibleChildren.map((child, childIndex) => (\n          <div key={String(childIndex)}>{cloneElement(child, {size, tone})}</div>\n        ))}\n      </Root>\n    )\n  }\n)\n\nAvatarStack.displayName = 'AvatarStack'\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA8C;AAC9C,+BAA0B;AAC1B,uBAA2B;AAC3B,oBAA6D;AAC7D,qBAAqC;AACrC,2BAA4B;AAG5B,MAAM,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYpB,4BAA4B;AAC1B,SAAO;AAAA;AAGT,wCAAwC,OAAuD;AAC7F,QAAM,CAAC,SAAS;AAChB,QAAM,CAAC,QAAQ,SAAS,MAAM;AAE9B,SAAO,8BAAW,OAAO,qCAAkB,MAAM,OAAO,CAAC,SAAS;AAChE,UAAM,aAAa,OAAO,MAAM;AAEhC,QAAI,CAAC;AAAY,aAAO;AAExB,WAAO;AAAA,MACL,iBAAiB;AAAA,QACf,YAAY,uBAAI,WAAW;AAAA;AAAA;AAAA;AAAA;AAMnC,MAAM,OAAO,iCAAO,IAClB,gCACA;AAUK,MAAM,cAAc,6BACzB,CACE,OACA,QACG;AACH,QAMI,YALF;AAAA,cAAU;AAAA,IACV,WAAW,gBAAgB;AAAA,IAC3B,OAAO;AAAA,IACP;AAAA,MAEE,IADC,sBACD,IADC;AAAA,IAJH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAGF,QAAM,YAAY,KAAK,IAAI,eAAe;AAC1C,QAAM,WAAW,2CAAuB,cAAc,OACpD,CAAC,UAAU,OAAO,UAAU;AAE9B,QAAM,MAAM,SAAS;AACrB,QAAM,eAAe,YAAY;AACjC,QAAM,aAAa,MAAM;AACzB,QAAM,kBAAkB,aAAa,IAAI,SAAS,MAAM,YAAY,OAAO;AAE3E,SACE,mDAAC,MAAD;AAAA,IAAM,WAAQ;AAAA,KAAkB,YAAhC;AAAA,IAA2C;AAAA,IAAU;AAAA,MAClD,QAAQ,KACP,mDAAC,OAAD,MACE,mDAAC,oCAAD;AAAA,IAAe,OAAO;AAAA,IAAK;AAAA,OAI9B,QAAQ,KAAK,aAAa,KACzB,mDAAC,OAAD,MACE,mDAAC,oCAAD;AAAA,IAAe,OAAO;AAAA,IAAY;AAAA,IAAY;AAAA,OAIjD,gBAAgB,IAAI,CAAC,OAAO,eAC3B,mDAAC,OAAD;AAAA,IAAK,KAAK,OAAO;AAAA,KAAc,+BAAa,OAAO,CAAC,MAAM;AAAA;AAOpE,YAAY,cAAc;",
  "names": []
}
